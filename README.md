# Frontend

This application is stateless frontend application. This can be deployed as micro-service in any supporting orchestration
service like K8s, EKS, GKE and Docker Service.

Current version 1.0.0

## Basic Feature

At this point of time there is no authentication required to use the frontend application.

You can select specific type of Starwars Category and manually user has to enter name/title of that category to search. User can enter full name/title or partial text.

if returns records are more than 10 records, then user can scroll down and keep clicking "load more data" button to fetch more data from backend service.

Application is progressive Web App principle which means this applicaton is Web Responsive and Provides offline feature.

## Design Principle
- Single component is created for single page app
- Host is configured and dynamically fetched from env config file
- All http call to backend service are managed via Service layer
- API calls are implemented with support of hateoas principle



## Offline Feature

We are using Angular official wpa package for offline feature.

All Cache/offline feature are configured in

```shell
ngsw-config.json
```

To enabled or disable cache, following file needs to be edited

```shell
src/app/app.module.ts
```

Following code to be changed for enabled and disabled offline feature.

```javascript
ServiceWorkerModule.register('ngsw-worker.js', {
      enabled: true,
      registrationStrategy: 'registerWhenStable:30000'
    })
```


- All API request are cached for offline use
- All static assets are cached
- API response are Cached and stored for 1 day for offline use
- Static assets can be auto updated once internet connection is back and brower is refreshed.

## Browser testing

Following testing has been performed 

- Application is tested on Chrome, firefox and Safari
- Application is tested on Medimum size like iPad and Tablets
- Application is tested on small factor devices like iPhone and Android Phones. Little improvememt are required on responsive side.

## Technology

Following are list of technology which are used for this application

- Angular 15
- TypeScript programming language
- CSS3
- HTML5
- NodeJS 15+ with npm package manager
- Nginx as Webserver to host final App
- Docker Image containing Nginx and App complied code

Following is the architecture of Angular Apps

![Angular Architecture](https://angular.io/generated/images/guide/architecture/overview2.png)


## Development server

Run 
```shell
ng serve --open
```
Open to `http://localhost:4200/`. The application will automatically reload if you change any of the source files.

You need backend service to be available on reachable url.

```shell
src/app/environment/environment.ts
```
For production build, following file is used for url configuration. Automatically during build following file will be renamed by angular internal build engine.

```shell
src/app/environment/environment.prod.ts
```

## Build

To build the project Run 

```shell
ng build
``` 
The build artifacts will be stored in the `dist/` directory.

To execute production build

```shell
ng build --prod
``` 

## Production build

```shell
npm run build --prod
```

## Docker Build

Following 2 commands to be executed to create production grade frontent app. Tag to be generated by CI pipeline.

```shell
npm run build --prod
docker build -t frontend:1.0.0 .
```

## Helm Deployment

```shell
helm install frontend.tar.gz -f
```

## Deployment Configuration

- Application to be running in nginx web server on port 80
- Nginx should Accept all traffic
- All assets like images, javascript names are dynamic generated by Angular build engine. so there wont be problem with old cache.
- No volume mount is required as application is stateless

## Performance
- This application follows PWA principle
- This is well optimized for Responsive for different screen size on different browser
- All static assets are well optimized in terms of size
- At present there is no image used, but in future SVG can be used inplace of images.
- As this is single page application, so no TPS is required.