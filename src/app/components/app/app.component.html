<!--- index.html -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2">



<div class="jumbotron">
  <h1 class="display-4">Starwars Search</h1>
  <p class="lead">Please select the category and enter name to search.</p>

  <form [formGroup]="searchFrom" novalidate>
  <div class="form-group">
    <label for="category">Select what you want to search</label>
    <select class="form-control" id="category" formControlName="category">
      <option value="film">Film</option>
      <option value="people">People</option>
      <option value="starship">Starship</option>
      <option value="vehicle">Vehicle</option>
      <option value="specie">Specie</option>
      <option value="planet">Planet</option>
    </select>
  </div>
  <div class="form-group">
    <label for="search">You need to enter name or part of the name in textbox</label>
    <input type="text" class="form-control" formControlName="search" id="search" placeholder="search text">
  </div>
  <button type="button" [disabled]="loading" (click)="searchData()" class="btn btn-primary">Search</button>
  &nbsp;
  <button type="button" (click)="resetForm()" class="btn btn-warning">Reset</button>
</form>

  <hr class="my-4">
  <table class="table">
    <ng-container *ngIf="category == 'film'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Title</th>
          <th scope="col">Directory</th>
          <th scope="col">producer</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.title}}</td>
          <td>{{data.director}}</td>
          <td>{{data.producer}}</td>
        </tr>
      </tbody>
    </ng-container>

    <ng-container *ngIf="category == 'people'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Hight</th>
          <th scope="col">Mass</th>
          <th scope="col">Gender</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.name}}</td>
          <td>{{data.height}}</td>
          <td>{{data.mass}}</td>
          <td>{{data.gender}}</td>
        </tr>
      </tbody>
    </ng-container>


    <ng-container *ngIf="category == 'starship'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">model</th>
          <th scope="col">manufacturer</th>
          <th scope="col">length</th>
          <th scope="col">passengers</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.name}}</td>
          <td>{{data.model}}</td>
          <td>{{data.manufacturer}}</td>
          <td>{{data.length}}</td>
          <td>{{data.passengers}}</td>
        </tr>
      </tbody>
    </ng-container>


    <ng-container *ngIf="category == 'vehicle'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">model</th>
          <th scope="col">manufacturer</th>
          <th scope="col">cost In Credits</th>
          <th scope="col">length</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.name}}</td>
          <td>{{data.model}}</td>
          <td>{{data.manufacturer}}</td>
          <td>{{data.costInCredits}}</td>
          <td>{{data.length}}</td>
        </tr>
      </tbody>
    </ng-container>

    <ng-container *ngIf="category == 'specie'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">classification</th>
          <th scope="col">designation</th>
          <th scope="col">average Height</th>
          <th scope="col">skinColors</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.name}}</td>
          <td>{{data.classification}}</td>
          <td>{{data.designation}}</td>
          <td>{{data.averageHeight}}</td>
          <td>{{data.skinColors}}</td>
        </tr>
      </tbody>
    </ng-container>

    <ng-container *ngIf="category == 'planet'">  
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">rotationPeriod</th>
          <th scope="col">orbitalPeriod</th>
          <th scope="col">surfaceWater</th>
          <th scope="col">population</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let data of responseArr; let i=index;'>
          <th scope="row">{{i+1}}</th>
          <td>{{data.name}}</td>
          <td>{{data.rotationPeriod}}</td>
          <td>{{data.orbitalPeriod}}</td>
          <td>{{data.surfaceWater}}</td>
          <td>{{data.population}}</td>
        </tr>
      </tbody>
    </ng-container>

  </table>
  
</div>